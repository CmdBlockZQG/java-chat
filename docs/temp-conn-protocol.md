# 临时连接通信协议

其实是又造了一遍http的轮子。服务器在发送完response后将直接关闭连接。

## 上传请求

### Request

| 字节数 | 类型   | 说明                |
| ------ | ------ | ------------------- |
| 1      | uint8  | 数据包类型，值为128 |
| 32     | md5    | 内容md5             |
| 4      | uint32 | 内容长度            |
|        | bytes  | 内容                |

### Response

| 字节数 | 类型   | 说明                        |
| ------ | ------ | --------------------------- |
| 1      | uint8  | 数据包类型，值为128         |
| 1      | uint8  | 错误信息长度，0表示上传成功 |
|        | string | 错误信息                    |

## 下载请求

### Request

| 字节数 | 类型   | 说明                |
| ------ | ------ | ------------------- |
| 1      | uint8  | 数据包类型，值为129 |
| 32     | string | 内容md5             |

### Response

| 字节数 | 类型   | 说明                       |
| ------ | ------ | -------------------------- |
| 1      | uint8  | 数据包类型，值为129        |
| 1      | uint8  | 错误信息长度，0表示成功    |
| 4      | uint32 | （成功时包含）文件内容长度 |
|        | bytes  | （成功时包含）文件内容     |
|        | string | （失败时包含）错误信息     |